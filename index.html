<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>InvitaciÃ³n: Abril & Pablo â€” Cuento de Princesas</title>

<!-- Fuentes -->
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">

<!-- Swiper (galerÃ­a) -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>

<!-- SimpleLightbox -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simplelightbox@2.12.1/dist/simple-lightbox.min.css" />

<!-- jQuery & Turn.js (flipbook) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/turn.js/4.1.0/turn.min.js"></script>

<style>
  /* ---------- Reset & base ---------- */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:'Playfair Display', serif;
    background:#f7f6f4;
    color:#222;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }
  h1,h2,h3,h4{font-family:'Great Vibes',cursive}
  h2.subtitle{font-family:'Dancing Script',cursive}

  /* ---------- Portada ---------- */
  #cover{
    width:100vw;height:100vh;
    background:url('fondo_floral1.jpg') center/cover no-repeat;
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    position:relative;overflow:hidden;
  }
  #cursor-canvas{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:2}

  /* ring (princess style) */
  #ring-wrap{position:relative;z-index:3;display:flex;flex-direction:column;align-items:center;gap:18px}
  .ring{
    width:220px;height:220px;border-radius:50%;
    background: radial-gradient(circle at 28% 28%, #dcdcdc, #9b9b9b);
    position:relative;display:flex;align-items:center;justify-content:center;
    box-shadow:0 0 30px rgba(0,150,255,0.18), inset 0 -6px 18px rgba(0,0,0,0.12);
    cursor:pointer; transition:transform .25s ease;
    overflow:visible;
  }
  .ring:hover{transform:scale(1.06)}
  .gem{
    width:86px;height:86px;border-radius:50%;
    background: radial-gradient(circle at 35% 30%, #69a8ff 0%, #1a6bff 45%, #0058d6 100%);
    box-shadow: 0 0 18px rgba(0,150,255,0.9), 0 0 36px rgba(0,110,255,0.55);
    position:relative;
    z-index:4;
    animation:gem-pulse 2s ease-in-out infinite alternate;
  }
  @keyframes gem-pulse{
    0%{transform:scale(1);filter:brightness(1)}
    100%{transform:scale(1.06);filter:brightness(1.12)}
  }
  .sparkle{
    position:absolute;width:12px;height:12px;border-radius:50%;
    background: radial-gradient(circle,#ffffff,#aeefff,#1e90ff);
    box-shadow:0 0 12px rgba(30,144,255,0.9);
    pointer-events:none;
    opacity:0;
  }
  #yes-text{font-family:'Great Vibes',cursive;color:#fff;font-size:44px;text-shadow:0 6px 20px rgba(0,0,0,0.45);z-index:3}
  #cover-count{color:#fff;font-size:18px;margin-top:6px;text-shadow:0 4px 14px rgba(0,0,0,0.45);z-index:3}

  /* ---------- audio control ---------- */
  #audio-btn{
    position:fixed;top:18px;right:18px;z-index:9999;
    width:54px;height:54px;border-radius:999px;background:linear-gradient(180deg,#fff,#f1f5ff);
    box-shadow:0 6px 18px rgba(0,0,0,0.12);display:flex;align-items:center;justify-content:center;cursor:pointer;
  }

  /* ---------- Book container ---------- */
  #book-container{width:92%;max-width:1100px;margin:36px auto;display:none;z-index:10}
  #book{width:100%;height:640px;margin:0 auto}
  #book .page{background:url('fondo_floral3.jpg') center/cover no-repeat;border-radius:12px;overflow:hidden;padding:26px;box-shadow:0 14px 40px rgba(0,0,0,0.18)}
  .page-inner{background:rgba(255,255,255,0.92);border-radius:10px;padding:28px;height:100%;overflow:auto;box-shadow:inset 0 2px 10px rgba(0,0,0,0.04)}

  /* families section */
  .family-row{display:flex;justify-content:space-between;gap:12px;font-size:18px}
  .family-col{width:48%;display:flex;flex-direction:column;gap:6px}
  .family-col p{margin:0;font-size:18px}
  .center-phrase{margin:20px 0;text-align:center;font-size:20px;color:#333;font-family:'Great Vibes',cursive}
  .couple-names{text-align:center;font-size:36px;color:#2b2b2b;margin-top:6px;text-shadow:0 6px 18px rgba(170,51,119,0.12)}
  .big-count{text-align:center;font-size:28px;color:#0a7fff;margin-top:18px;text-shadow:0 0 18px rgba(10,127,255,0.25)}

  /* itinerary 2d icons */
  .itinerary{display:flex;gap:18px;justify-content:space-around;align-items:flex-start;margin-top:18px}
  .it-item{text-align:center;width:30%}
  .it-item p{margin-top:8px}

  /* gallery */
  .swiper{width:100%;height:320px;margin-top:10px;border-radius:10px}
  .swiper-slide img{width:100%;height:100%;object-fit:cover;border-radius:10px;display:block}

  /* RSVP & wishes */
  .form-group{display:flex;flex-direction:column;gap:8px;margin-top:10px}
  input[type=text],input[type=number],textarea{padding:10px;border-radius:8px;border:1px solid #ccc;font-size:16px}
  button.btn{padding:10px 14px;background:#0a84ff;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer}
  #wishes-list{list-style:none;margin-top:12px;padding-left:0}
  #wishes-list li{background:rgba(255,255,255,0.9);padding:8px 10px;border-radius:6px;margin-bottom:8px;animation:fade-in .4s ease}
  @keyframes fade-in{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}

  /* palette & footer */
  .palette{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:20px}
  .swatch{width:44px;height:44px;border-radius:8px;box-shadow:0 4px 14px rgba(0,0,0,0.08)}

  /* responsive */
  @media (max-width:900px){
    .family-row{flex-direction:column}
    .it-item{width:100%}
    #book{height:calc(80vh)}
    .couple-names{font-size:28px}
    .ring{width:150px;height:150px}
    .gem{width:64px;height:64px}
  }
</style>
</head>
<body>

<!-- AUDIO CONTROL -->
<div id="audio-btn" title="Control audio">ðŸŽµ</div>

<!-- COVER / PORTADA -->
<section id="cover" aria-label="Portada">
  <canvas id="cursor-canvas"></canvas>
  <div id="ring-wrap" aria-hidden="false">
    <div class="ring" id="ring" role="button" aria-label="Abrir invitaciÃ³n">
      <div class="gem" id="gem"></div>
    </div>
    <div id="yes-text">Â¡SÃ­ acepto!</div>
    <div id="cover-count"></div>
  </div>
</section>

<!-- BOOK (hidden until ring click) -->
<section id="book-container" aria-hidden="true">
  <div id="book">
    <!-- Todas las pÃ¡ginas aquÃ­ (families, itinerary, gallery, RSVP, wishes, palette) -->
  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/simplelightbox@2.12.1/dist/simple-lightbox.min.js"></script>

<script>
  const ring = document.getElementById('ring');
  const bookContainer = document.getElementById('book-container');
  const cover = document.getElementById('cover');

  ring.addEventListener('click',()=>{
    cover.style.display='none';
    bookContainer.style.display='block';
    $('#book').turn({width:1100,height:640,autoCenter:true});
  });

  // Audio
  const audioBtn=document.getElementById('audio-btn');
  const audio = new Audio('marcha_nupcial.mp3'); audio.loop=true;
  audioBtn.addEventListener('click',()=>{audio.paused?audio.play():audio.pause()});

  // Swiper & Lightbox
  const swiper = new Swiper('.swiper',{loop:true,pagination:{el:'.swiper-pagination'}});
  const lightbox = new SimpleLightbox('.swiper a',{showCounter:true});

  // RSVP
  const rsvpForm=document.getElementById('rsvp');
  const rsvpOk=document.getElementById('rsvp-ok');
  if(rsvpForm) rsvpForm.addEventListener('submit',e=>{
    e.preventDefault();
    rsvpOk.style.display='block';
    rsvpForm.reset();
  });

  // Wishes
  const wishForm=document.getElementById('wish-form');
  const wishText=document.getElementById('wish-text');
  const wishesList=document.getElementById('wishes-list');
  let wishes=[];
  if(wishForm) wishForm.addEventListener('submit',e=>{
    e.preventDefault();
    const w=wishText.value.trim();if(!w)return;
    wishes.push(w);
    const li=document.createElement('li');li.textContent=w;wishesList.appendChild(li);
    wishText.value='';
  });
  const downloadBtn=document.getElementById('download-wishes');
  if(downloadBtn) downloadBtn.addEventListener('click',()=>{
    let csv='Deseos\n'+wishes.map(a=>`"${a.replace(/"/g,'""')}"`).join('\n');
    let blob=new Blob([csv],{type:'text/csv;charset=utf-8;'});
    let a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download='wishes.csv';a.click();
  });

  // Countdown
  const coverCount=document.getElementById('cover-count');
  const bookCount=document.getElementById('book-count');
  const targetDate=new Date('2025-12-15T14:00:00');
  function updateCountdown(){
    const now=new Date();
    const diff=targetDate-now;
    if(diff<0){coverCount.textContent='Â¡Es hoy!';bookCount.textContent='Â¡Es hoy!';return;}
    const d=Math.floor(diff/1000/60/60/24),
          h=Math.floor((diff/1000/60/60)%24),
          m=Math.floor((diff/1000/60)%60),
          s=Math.floor((diff/1000)%60);
    const str=`${d}d ${h}h ${m}m ${s}s`;
    coverCount.textContent=str;bookCount.textContent=str;
  }
  setInterval(updateCountdown,1000);updateCountdown();

  // ---------- Particles around ring ----------
  const ringWrap=document.getElementById('ring-wrap');
  for(let i=0;i<16;i++){
    const sparkle=document.createElement('div');
    sparkle.className='sparkle';
    ringWrap.appendChild(sparkle);
    const angle=Math.random()*2*Math.PI;
    const radius=120+Math.random()*40;
    sparkle.style.left=`${110+Math.cos(angle)*radius}px`;
    sparkle.style.top=`${110+Math.sin(angle)*radius}px`;
    sparkle.style.opacity=Math.random();
    const animDur=2+Math.random()*2;
    sparkle.animate([{transform:'scale(0.5)',opacity:0},{transform:'scale(1)',opacity:1}],{duration:animDur*1000,iterations:Infinity,direction:'alternate',easing:'ease-in-out'});
  }
</script>
</body>
</html>
 
