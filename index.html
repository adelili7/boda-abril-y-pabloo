<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitación Mágica - Abril & Pablo</title>
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css"/>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightbox2@2.11.4/dist/css/lightbox.min.css">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Playfair Display', serif;overflow-x:hidden;background:#f5f5f5;}
.section{width:100%;min-height:100vh;background:url('fondo_floral3.jpg') center/cover no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;backface-visibility:hidden;transform-style:preserve-3d;transition:transform 1s ease, opacity 1s ease;}
.section.hidden{opacity:0;transform:rotateY(90deg);pointer-events:none;}
.section.active{opacity:1;transform:rotateY(0deg);pointer-events:all;}
h1,h2,h3,h4,h5,h6{font-family:'Great Vibes', cursive;text-align:center;color:#2a2a2a;}
h2.subtitle{font-family:'Dancing Script',cursive;color:#2a2a2a;}
#cover{width:100vw;height:100vh;background:url('fondo_floral1.jpg') center/cover no-repeat;display:flex;flex-direction:column;align-items:center;justify-content:center;position:relative;overflow:hidden;}
#ring{width:180px;height:180px;cursor:pointer;position:relative;display:flex;justify-content:center;align-items:center;}
#cover h1{color:#fff;font-size:3rem;text-shadow:2px 2px 10px #000;margin-top:20px;}
#countdown-cover{font-size:2rem;color:#fff;text-shadow:0 0 10px #00aaff,0 0 20px #00aaff;margin-top:20px;}
.parents{display:flex;justify-content:space-around;width:80%;margin:20px 0;font-size:1.2rem;transition:all 1s;}
#names{font-size:3rem;margin:20px 0;text-shadow:0 0 10px #ffb6c1,0 0 20px #87ceeb;}
#central-phrase,#biblical-verse{text-align:center;font-family:'Dancing Script',cursive;color:#2a2a2a;margin:10px 0;font-size:1.5rem;text-shadow:0 0 5px #fff;opacity:0;transition:opacity 2s;}
#biblical-verse.active{opacity:1;}
.itinerary{display:flex;justify-content:space-around;width:80%;margin:20px 0;}
.itinerary div{text-align:center;transition:transform 0.3s;}
.itinerary div:hover{transform:scale(1.1);}
.itinerary svg{width:80px;height:80px;margin-bottom:10px;}
.swiper{width:90%;max-width:900px;height:300px;margin:20px 0;}
.swiper-slide img{width:100%;height:100%;object-fit:cover;border-radius:10px;cursor:pointer;}
form{display:flex;flex-direction:column;gap:10px;margin:20px 0;width:80%;max-width:500px;}
input,textarea,button{padding:10px;border-radius:5px;border:1px solid #ccc;font-family:'Playfair Display', serif;}
button{background:#00aaff;color:#fff;cursor:pointer;border:none;}
#wishes-list p{margin:5px 0;opacity:0;animation:fadeIn 1s forwards;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
#audio-control{position:fixed;top:20px;right:20px;padding:10px;border-radius:50%;background:#00aaff;color:#fff;font-size:1.5rem;cursor:pointer;z-index:9999;}
.whatsapp{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:10px;}
.whatsapp a{display:flex;align-items:center;gap:10px;background:#25D366;color:#fff;padding:10px 15px;border-radius:50px;text-decoration:none;font-weight:bold;}
.particle{position:absolute;width:8px;height:8px;border-radius:50%;pointer-events:none;opacity:0.8;animation:floatMagic 3s infinite;}
@keyframes floatMagic{0%{transform:translateY(0) rotate(0deg);}50%{transform:translateY(-20px) rotate(180deg);}100%{transform:translateY(0) rotate(360deg);}}
</style>
</head>
<body>

<!-- Portada mágica -->
<div id="cover">
  <div id="ring">
    <svg viewBox="0 0 200 200">
      <circle cx="100" cy="100" r="70" fill="silver" stroke="white" stroke-width="4"/>
      <circle cx="100" cy="60" r="30" fill="blue">
        <animate attributeName="r" values="30;32;30" dur="1.5s" repeatCount="indefinite"/>
        <animate attributeName="fill-opacity" values="0.8;1;0.8" dur="1.5s" repeatCount="indefinite"/>
      </circle>
    </svg>
  </div>
  <h1>¡Sí acepto!</h1>
  <div id="countdown-cover"></div>
</div>

<!-- Secciones del libro -->
<div class="section hidden" id="main">
  <div id="biblical-verse">“Quien halla esposa halla el bien, y alcanza la benevolencia de Jehová – Proverbios 18:22”</div>
  <div class="parents">
    <div>Eva Aguilar Rendón<br>Pedro Pérez Hernández</div>
    <div>Saray Hernández Santana ✝<br>Pablo Tinoco Carranza</div>
  </div>
  <div id="central-phrase">Tienen el honor de compartir la dicha que enlaza a sus amados hijos.</div>
  <div id="names">Abril Pérez Aguilar & Pablo Eliel Tinoco Hernández</div>
  <h2>28 de diciembre del 2025</h2>
  <div id="countdown-book"></div>
</div>

<div class="section hidden" id="itinerary">
  <h2 class="subtitle">Itinerario</h2>
  <div class="itinerary">
    <div>
      <svg viewBox="0 0 64 64"><circle cx="32" cy="32" r="30" fill="pink"/></svg>
      <p>Preparativos / Ceremonia Inicial</p>
    </div>
    <div>
      <svg viewBox="0 0 64 64"><rect x="16" y="16" width="32" height="32" fill="lightblue"/></svg>
      <p>Ceremonia Religiosa 2pm<br><a href="https://maps.app.goo.gl/JYTirH62EEM2VvD96" target="_blank">Ubicación</a></p>
    </div>
    <div>
      <svg viewBox="0 0 64 64"><ellipse cx="32" cy="32" rx="20" ry="30" fill="gold"/></svg>
      <p>Recepción 4pm<br><a href="https://maps.app.goo.gl/kuYmUMoTuaj3XAjz9" target="_blank">Ubicación</a></p>
    </div>
  </div>
</div>

<div class="section hidden" id="gallery">
  <h2 class="subtitle">Mejores momentos</h2>
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><a href="momento1.jpg" data-lightbox="gallery"><img src="momento1.jpg"></a></div>
      <div class="swiper-slide"><a href="momento2.jpg" data-lightbox="gallery"><img src="momento2.jpg"></a></div>
      <div class="swiper-slide"><a href="momento3.jpg" data-lightbox="gallery"><img src="momento3.jpg"></a></div>
      <div class="swiper-slide"><a href="momento4.jpg" data-lightbox="gallery"><img src="momento4.jpg"></a></div>
      <div class="swiper-slide"><a href="momento5.jpg" data-lightbox="gallery"><img src="momento5.jpg"></a></div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
</div>

<!-- RSVP -->
<div class="section hidden" id="rsvp">
  <h2 class="subtitle">Confirmar asistencia</h2>
  <form id="rsvp-form">
    <input type="text" placeholder="Tu nombre" required>
    <input type="number" placeholder="Número de personas" required>
    <textarea placeholder="Mensaje / deseo" rows="4"></textarea>
    <button type="submit">Enviar</button>
    <div id="rsvp-status" style="color:green;margin-top:10px;"></div>
  </form>
</div>

<!-- Buenos deseos -->
<div class="section hidden" id="wishes">
  <h2 class="subtitle">Escribe tus buenos deseos</h2>
  <form id="wishes-form">
    <textarea id="wish-text" rows="3" placeholder="Tu mensaje..."></textarea>
    <button type="submit">Enviar deseo</button>
  </form>
  <div id="wishes-list"></div>
  <button id="download-wishes">Descargar mensajes</button>
</div>

<div class="section hidden" id="palette">
  <h2 class="subtitle">Paleta de colores recomendada</h2>
  <div style="display:flex;gap:10px;flex-wrap:wrap;">
    <div style="width:40px;height:40px;background:#87ceeb;border-radius:50%;"></div>
    <div style="width:40px;height:40px;background:#c0c0c0;border-radius:50%;"></div>
    <div style="width:40px;height:40px;background:#b76e79;border-radius:50%;"></div>
    <div style="width:40px;height:40px;background:#f5f5dc;border-radius:50%;"></div>
    <div style="width:40px;height:40px;background:#ffb6c1;border-radius:50%;"></div>
    <div style="width:40px;height:40px;background:#7fff00;border-radius:50%;"></div>
  </div>
</div>

<div class="section hidden" id="final">
  <h2 class="subtitle">Con amor eterno... Abril y Pablo</h2>
</div>

<div class="whatsapp">
  <a href="https://wa.me/5217774914500" target="_blank">WhatsApp Abril</a>
  <a href="https://wa.me/5217341123645" target="_blank">WhatsApp Pablo</a>
</div>

<div id="audio-control">⏯️</div>
<audio id="audio-main" src="marcha_nupcial.mp3" autoplay loop></audio>
<audio id="audio-ring" src="eternamente.mp3"></audio>

<script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/lightbox2@2.11.4/dist/js/lightbox.min.js"></script>
<script>
const sections=document.querySelectorAll('.section');
let current=0;
const showSection=(i)=>{
    sections.forEach(s=>s.classList.add('hidden'));
    sections[i].classList.remove('hidden');
};
document.getElementById('ring').addEventListener('click',()=>{
    audioMain.pause();
    audioRing.play();
    document.getElementById('biblical-verse').classList.add('active');
    setTimeout(()=>showSection(0),2000);
});
document.addEventListener('keydown',e=>{
    if(e.key==='ArrowRight'){current=(current+1)%sections.length;showSection(current);}
    if(e.key==='ArrowLeft'){current=(current-1+sections.length)%sections.length;showSection(current);}
});
// Contadores
function countdown(endDate,id){
    let x=setInterval(()=>{
        let now=new Date().getTime();
        let distance=endDate-now;
        if(distance<0)distance=0;
        let days=Math.floor(distance/(1000*60*60*24));
        document.getElementById(id).innerHTML="Faltan "+days+" días para nuestro gran día ✨";
    },1000);
}
let eventDate=new Date("Dec 28,2025 00:00:00").getTime();
countdown(eventDate,'countdown-cover');
countdown(eventDate,'countdown-book');

// Partículas mágicas
document.addEventListener('mousemove',e=>{
    let p=document.createElement('div');
    p.className='particle';
    p.style.left=e.pageX+'px';
    p.style.top=e.pageY+'px';
    p.style.background=['#87ceeb','#c0c0c0','#b76e79','#fff'][Math.floor(Math.random()*4)];
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),4000);
});

// Swiper
var swiper = new Swiper('.swiper',{pagination:{el:'.swiper-pagination'},loop:true,autoplay:{delay:3000}});

// RSVP
document.getElementById('rsvp-form').addEventListener('submit',e=>{
    e.preventDefault();
    let form=e.target;
    fetch("https://script.google.com/macros/s/AKfycbyeIsfOd4ugH3DerKdBooOjEoZDOrYlTgD2oHQmMxRqfSCIx9UPDPQeGs1sI8KpKoWLTQ/exec",{
        method:"POST",
        body:new FormData(form)
    }).then(r=>{
        document.getElementById('rsvp-status').innerText="✅ Confirmación guardada en la base de datos";
        form.reset();
    });
});

// Buenos deseos
function loadWishes(){
    let wishes=JSON.parse(localStorage.getItem('wishes')||'[]');
    const container=document.getElementById('wishes-list'); container.innerHTML='';
    wishes.forEach(w=>{
        let p=document.createElement('p'); p.innerText=w; container.appendChild(p);
        p.style.opacity='0'; setTimeout(()=>p.style.opacity='1',100);
    });
}
document.getElementById('wishes-form').addEventListener('submit',e=>{
    e.preventDefault();
    let text=document.getElementById('wish-text').value;
    if(text.trim()!==''){
        let wishes=JSON.parse(localStorage.getItem('wishes')||'[]');
        wishes.push(text); localStorage.setItem('wishes',JSON.stringify(wishes));
        document.getElementById('wish-text').value='';
        loadWishes();
    }
});
document.getElementById('download-wishes').addEventListener('click',()=>{
    let wishes=JSON.parse(localStorage.getItem('wishes')||'[]');
    let csv=wishes.map(w=>'"'+w.replace(/"/g,'""')+'"').join('\n');
    let blob=new Blob([csv],{type:'text/csv'});
    let a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='buenos_deseos.csv'; a.click();
});

// Audio control
document.getElementById('audio-control').addEventListener('click',()=>{
    if(audioMain.paused){audioMain.play();}else{audioMain.pause();}
});
loadWishes();
</script>
</body>
</html>
 
